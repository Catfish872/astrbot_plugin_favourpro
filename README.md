### 🧠 FavourPro - AI 内心状态模拟插件

**作者**: 天各一方
**版本**: v1.0.4

这是一个与现有好感度系统完全不同的插件。它不再是一个简单的数值计算工具，而是旨在为 AI 模拟一个**多维度、自主且保密的内心世界**。AI 会根据与用户的互动，真实地改变其内在的“好感度”、“态度”和“关系”，并通过回应风格的变化自然地流露出来。

### ✨ 功能亮点

-   🧠 **多维内心状态**: 不再是单一的好感度数值，而是融合了 **好感度、印象、关系** 三个维度的动态系统，让 AI 的“情感”更加立体和可信。
-   🤫 **AI自主驱动与绝对保密**: AI 根据对话内容自主评估并更新内心状态，整个过程对用户**完全隐蔽**，并被设计为能抵御外部的窥探与操纵。
-   🎭 **动态行为映射**: AI 的回应风格会根据其内心状态（尤其是好感度区间）发生真实的变化，从热情亲密到冷漠敌对，提供更沉浸的交互体验。
-   ⚙️ **零配置，全自动**: 插件自动完成所有复杂的提示词注入，管理员几乎无需干预。安装后即可享受更真实的 AI 互动。
-   📁 **数据隔离**: 使用独立的目录存储数据，与旧版或其他插件完全隔离，遵循最佳实践规范。

### 🛠️ 工作原理与使用指南

#### 对用户而言

你将感觉到与 AI 的互动更加“真实”，它的态度会随着你们的交流而自然演变。你可以使用唯一的指令来了解它当前对你的看法。

#### 对管理员而言

本插件的设计理念是**最大限度地减少外部干预**，创造一个完全由 AI 主导的、不受外部规则扭曲的真实交互环境。

1.  **核心配置**:
    您唯一需要配置的选项是 `session_based`，在插件的 `config.json` 文件中设置。
    -   `false` (默认): AI 对每个用户的状态是全局唯一的。
    -   `true`: AI 在不同的群聊/私聊中，对同一个用户的状态是独立计算的。

2.  **设计哲学**：
    为什么没有采用注册function的形式？尽管这么做会更加优雅，但在实践当中，由于该功能调用的频率问题，采用functioncall会导致显著更高的调用开销且大大降低实时性，并且当前任务场景function call的时机问题，目前的ai可能存在难以掌握，无法总是正确在合理时机调用


### 📅 更新日志
#### 🚀 v1.0.4
-   ✨ **新增批量管理与排行命令**: 进一步丰富了管理员工具集，方便进行数据维护和观察。
    -   使用 `/重置好感 user_id` 可一键将指定用户的状态恢复为默认值。
    -   使用 `/重置负面` 可批量重置所有好感度为负数的用户。
    -   使用 `/重置全部` 可清空所有用户的状态记录（请谨慎使用！）。
    -   使用 `/好感排行 [num]` 可查看好感度最高的N位用户（num可选，默认为10）。
    -   使用 `/负好感排行 [num]` 可查看好感度最低的N位用户（num可选，默认为10）。
#### 🚀 v1.0.3
-   ✨ **增强鲁棒性**:修复爆格式问题
#### 🚀 v1.0.2
-   ✨ **提供了管理员命令**:仅限bot管理员可用
-   使用 /查询好感 user_id 来查询该id用户的好感、印象和关系
-   使用 /设置好感 user_id int 来设置该id用户的好感（整数，无上下限制）
-   使用 /设置印象 user_id XXX 来设置该id用户的印象（xxx直接写你要写入的印象即可）
-   使用 /设置关系 user_id XXX 来设置该id用户的关系（xxx直接写你要写入的关系即可）
-   ✨ **bug修复**:修复了热加载失效和会话隔离不生效的问题。
#### 🚀 v1.0.1
-   ✨ **鲁棒性解析**: 修复了参数输出不完整导致解析失败的问题。
-   ✨ **取消状态命令**:暂时移除了状态命令。
#### 🚀 v1.0.0
-   ✨ **初始版本发布**: 全新重构，首次在astrbot引入 AI 驱动的、多维度的内心状态模拟系统。

### 🙌 致谢与支持

-   🤖 感谢 **AstrBot 核心开发团队** 的技术支持。
-   ⭐️ 如果这个插件对您有帮助，欢迎在项目的 GitHub 仓库点亮星标，您的支持是持续开发的动力！
-   🐞 发现问题或有优化建议？欢迎提交 ISSUE，每条反馈都会被认真对待！
